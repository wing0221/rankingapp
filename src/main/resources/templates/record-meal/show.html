<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      th:replace="~{fragments/layout :: layout(~{::title}, ~{::body})}">
<head>
    <title>Document</title>
</head>
<body>
    <h1 class="mt-3">本日の記録</h1>
    <table class="table">
        <thead>
            <tr>
                <th>id</th>
                <th>日付</th>
                <th>時間帯</th>
                <th>タンパク質</th>
                <th>糖質</th>
                <th>脂質</th>
                <th>ビタミン</th>
                <th>ミネラル</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="MealParameter : ${RecordMealList}">
                <th th:text="${MealParameter.id}">(id)</th>
                <th th:text="${MealParameter.day}">(day)</th>
                <th th:text="${MealParameter.meal_time_zone}">(meal_time_zone)</th>
                <th th:text="${MealParameter.protein}">(protein)</th>
                <th th:text="${MealParameter.sugar_content}">(sugar_content)</th>
                <th th:text="${MealParameter.lipid}">(lipid)</th>
                <th th:text="${MealParameter.vitamin}">(vitamin)</th>
                <th th:text="${MealParameter.mineral}">(mineral)</th>
            </tr>
        </tbody>
    </table>
    <h1>本日の記録</h1>
    <div style="width: 600px;" class="center-block">
        <canvas id="chart" width="600" height="400" ></canvas>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" integrity="sha256-R4pqcOYV8lt7snxMQO/HSbVCFRPMdrhAFMH+vr9giYI=" crossorigin="anonymous"></script>
    <script th:inline="javascript">
    /*<![CDATA[*/
        var ctx = $('#chart');
        var mychart = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: [
                    'タンパク質',
                    '糖質',
                    '脂質',
                    'ビタミン',
                    'ミネラル'
                ],
                datasets: [{
                    //朝食グラフ
                    label: /*[[ ${RecordMealList[0].meal_time_zone} ]]*/null,
                    data: [
                        /*[[ ${RecordMealList[0].protein} ]]*/,
                        /*[[ ${RecordMealList[0].sugar_content} ]]*/,
                        /*[[ ${RecordMealList[0].lipid} ]]*/,
                         /*[[ ${RecordMealList[0].vitamin} ]]*/,
                         /*[[ ${RecordMealList[0].mineral} ]]*/
                    ],
                    backgroundColor: 'rgba(241, 107, 141, 0.5)',
                    borderColor: 'rgba(0, 0, 0, 0)',
                    borderWidth: 1,
                    pointBackgroundColor: 'rgb(46,106,177)',
                },
                {
                //昼食グラフ
                    label: /*[[ ${RecordMealList[1].meal_time_zone} ]]*/null,
                    data: [
                        /*[[ ${RecordMealList[1].protein} ]]*/,
                        /*[[ ${RecordMealList[1].sugar_content} ]]*/,
                        /*[[ ${RecordMealList[1].lipid} ]]*/,
                         /*[[ ${RecordMealList[1].vitamin} ]]*/,
                         /*[[ ${RecordMealList[1].mineral} ]]*/
                    ],
                    backgroundColor: 'rgba(0, 128, 128, 0.5)',
                    borderColor: 'rgba(0, 0, 0, 0)',
                    borderWidth: 1,
                    pointBackgroundColor: 'rgb(46,106,177)',
                },
                {
                //夕食グラフ
                    label: /*[[ ${RecordMealList[2].meal_time_zone} ]]*/null,
                    data: [
                        /*[[ ${RecordMealList[2].protein} ]]*/,
                        /*[[ ${RecordMealList[2].sugar_content} ]]*/,
                        /*[[ ${RecordMealList[2].lipid} ]]*/,
                         /*[[ ${RecordMealList[2].vitamin} ]]*/,
                         /*[[ ${RecordMealList[2].mineral} ]]*/
                    ],
                    backgroundColor: 'rgba(0, 128, 0, 0.5)',
                    borderColor: 'rgba(0, 0, 0, 0)',
                    borderWidth: 1,
                    pointBackgroundColor: 'rgb(46,106,177)',
                }
            ]
            },
            options: {
                title: {
                    display: true,
                    text: '栄養バランスグラフ',
                },
                scale: {
                    ticks: {
                        suggestedMin: 0,
                        suggestedMax: 5,
                        stepSize: 1,
                        callback: function(value, index, values){
                            return  value
                        }
                    },
                }
            }
        });
    /*]]>*/
    </script>
</body>
</html>